<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Sargouset Animation</title>

<style>
body {
  background: #d9efe7;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

img {
  width: 220px;
}
</style>
</head>

<body>

<img id="frog" src="images/eo_mc.png" alt="Sargouset">

<script>
const frog = document.getElementById("frog");

/* Current state */
let currentEyes = "eo";
let currentMouth = "mc";

/* Images are in ./images/ */
const basePath = "images/";

/* Update image */
function updateFrame() {
  frog.src = basePath + currentEyes + "_" + currentMouth + ".png";
}

/* ---------- BLINKING ---------- */
function blink() {
  const sequence = ["esc", "ec", "esc"];
  let i = 0;

  const blinkInterval = setInterval(() => {
    currentEyes = sequence[i];
    updateFrame();
    i++;

    if (i >= sequence.length) {
      clearInterval(blinkInterval);
      currentEyes = "eo";
      updateFrame();
    }
  }, 100);
}

/* Natural blink timing */
setInterval(() => {
  blink();
}, 4000 + Math.random() * 3000);

/* ---------- TALKING ---------- */
let talkingInterval;

function startTalking() {
  const mouths = ["mc", "mso", "mo", "mso"];
  let i = 0;

  talkingInterval = setInterval(() => {
    currentMouth = mouths[i];
    updateFrame();
    i = (i + 1) % mouths.length;
  }, 120);
}

function stopTalking() {
  clearInterval(talkingInterval);
  currentMouth = "mc";
  updateFrame();
}

/* Demo talking */
startTalking();
setTimeout(stopTalking, 1500);

setInterval(() => {
  startTalking();
  setTimeout(stopTalking, 1200);
}, 2000);
</script>

</body>
</html>
